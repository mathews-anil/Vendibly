import IconArrowRightUp from "@/components/icons/icon-arrow-right-up";
import LinkButton from "@/components/ui/linkButton";
import { useGSAP } from "@gsap/react";
import gsap, { Power4 } from "gsap";
import { useRef } from "react";

const FooterCtaSection = () => {
  const section = useRef(null);
  const card = useRef(null);
  const svgShape = useRef(null);

  useGSAP(
    () => {
      gsap
        .timeline({
          scrollTrigger: {
            trigger: section.current,
            start: "top 70%",
          },

          defaults: { ease: Power4.easeInOut, duration: 0.5 },
        })
        .to(card.current, { autoAlpha: 1, y: 0 })
        .to(svgShape.current, {
          autoAlpha: 1,
          scale: 1,
          ease: "circ.inOut",
        });
    },
    { scope: section },
  );
  return (
    <section
      ref={section}
      id="footer-cta"
      className="pt-[60px] 2xl:pt-[173px] pb-[60px] 2xl:pb-[99px]"
    >
      <div className="wrapper">
        <div
          className="relative w-full md:pt-16 flex flex-col justify-center items-center text-center opacity-0 translate-y-7"
          ref={card}
        >
          <div className="mb-7 md:mb-9.5">
            <h1 className="text-[50px]/[61px] sm:text-6xl/[76px] lg:text-[70px]/[86px] font-semibold font-outfit">
              Tidy up your
            </h1>
            <h1 className="relative text-[50px]/[61px] sm:text-6xl/[76px] lg:text-[70px]/[86px] text-white font-semibold font-outfit">
              vendor chaos.
              <svg
                ref={svgShape}
                xmlns="http://www.w3.org/2000/svg"
                width={712}
                height={117}
                viewBox="0 0 712 117"
                fill="none"
                className="max-lg:w-[105%]  absolute top-[-40%] sm:top-[-20%] lg:-top-2.25 left-1/2 -translate-x-1/2 isolate -z-10 scale-75 opacity-0"
              >
                <rect
                  width="711.152"
                  height="99.2035"
                  rx="20.2271"
                  transform="matrix(-0.9997 -0.0244802 -0.0135566 0.999908 712.145 17.4102)"
                  fill="#FFC310"
                />
                <rect
                  width="711.152"
                  height="99.2035"
                  rx="20.2271"
                  transform="matrix(-0.9997 -0.0244802 -0.0135566 0.999908 712.145 17.4102)"
                  fill="#FF6A3D"
                />
              </svg>
            </h1>
          </div>
          <p className="text-2xl/[24.2px] sm:text-3xl/[28px] md:text-[35px]/[59px] font-medium font-outfit">
            Start free. Save hours.
          </p>
          <LinkButton
            text={"Get Organized for free"}
            href={"#"}
            icon={<IconArrowRightUp />}
            iconSize={24}
            className="rounded-xl mt-5 md:mt-8 h-14"
            moveUp
          />

          {/* Design shapes */}
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width={108}
            height={78}
            viewBox="0 0 108 78"
            fill="none"
            className="max-sm:hidden md:w-fit w-14 absolute top-0 left-[5%] lg:left-32 xl:left-[210px]"
          >
            <path
              d="M0.167231 38.6387C-0.387956 45.3773 0.306028 52.6094 4.28487 58.0682C8.26371 63.5423 16.2985 66.4413 22.1125 62.9872C32.5069 56.8191 28.4818 37.4205 39.5701 32.594C43.2713 39.456 40.0944 47.7829 37.8891 55.2617C35.6838 62.7405 35.3908 72.5632 42.1301 76.4799C47.9904 79.8878 55.8247 76.2332 59.6494 70.6356C63.474 65.0535 64.5227 58.0836 66.2653 51.5454C68.008 44.9918 70.969 38.1452 76.9218 34.9224C81.2245 41.1368 79.0038 49.5099 77.77 56.9887C76.5517 64.4521 77.8009 74.0898 84.9566 76.5262C89.0589 77.914 93.7317 76.1561 96.816 73.1183C99.9004 70.0651 101.643 65.9479 103.016 61.8307C107.611 47.9679 108.583 32.9178 105.822 18.577C104.835 13.4575 103.262 8.23001 99.7154 4.4058C96.1683 0.597008 90.1692 -1.36136 85.5581 1.07503C81.1012 3.43433 79.3893 8.78514 76.9527 13.2107C74.516 17.6209 69.396 21.8306 64.8774 19.6101C60.9448 17.6672 60.4667 12.4397 59.4797 8.16833C55.7939 -7.85327 48.4685 7.19686 43.04 9.72578C36.1156 12.9486 32.1676 7.61321 26.4307 5.00719C8.80347 -2.98048 1.33929 24.3596 0.167231 38.6387Z"
              fill="#E1D5E3"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width={73}
            height={68}
            viewBox="0 0 73 68"
            fill="none"
            className="max-sm:hidden md:w-fit w-14 absolute bottom-0 md:bottom-[70px] left-[5%] lg:left-[120px]"
          >
            <path
              d="M40.3402 5.24671C41.6916 2.99611 43.5157 0.463766 46.1394 0.446336C48.9066 0.428923 50.8864 3.46396 50.8358 6.23691C50.7852 9.00986 49.3207 11.526 47.9907 13.9504C46.6668 16.3881 45.3939 19.0663 45.7754 21.8067C46.3858 26.1914 50.8915 28.9176 55.1727 30.0454C59.4443 31.1694 64.0806 31.3741 67.8722 33.6601C71.6638 35.9461 74.0354 41.4938 71.1215 44.8211C68.3904 47.9318 63.37 46.9171 59.4883 45.4684C55.6065 44.0197 50.8931 42.4939 47.6358 45.049C45.2478 46.923 44.689 50.3283 44.8582 53.3624C45.0274 56.3965 45.7101 59.4735 45.0862 62.4454C44.4622 65.4172 41.8968 68.3267 38.8735 67.9476C35.3959 67.5152 33.8044 63.3271 33.7054 59.8234C33.616 56.3233 34.194 52.495 32.2446 49.582C29.8341 45.9729 24.6681 45.5092 20.4057 46.3423C16.1433 47.1754 11.9144 48.9264 7.60437 48.3615C3.29661 47.8195 -0.954836 43.5135 0.663355 39.4781C2.10035 35.9139 6.75638 35.1771 10.6009 35.1435C14.4454 35.11 19.0201 34.8716 21.0254 31.5811C23.1712 28.0688 20.8738 23.6203 18.6927 20.1325C16.5153 16.6352 14.4391 11.9847 16.9113 8.68618C19.5262 5.18869 25.5285 6.49269 28.0891 10.0271C29.9126 12.5495 30.3786 15.7308 30.8778 18.6821C35.072 16.9067 37.9555 9.208 40.3402 5.24671Z"
              fill="#622BFF"
            />
            <path
              d="M40.3402 5.24671C41.6916 2.99611 43.5157 0.463766 46.1394 0.446336C48.9066 0.428923 50.8864 3.46396 50.8358 6.23691C50.7852 9.00986 49.3207 11.526 47.9907 13.9504C46.6668 16.3881 45.3939 19.0663 45.7754 21.8067C46.3858 26.1914 50.8915 28.9176 55.1727 30.0454C59.4443 31.1694 64.0806 31.3741 67.8722 33.6601C71.6638 35.9461 74.0354 41.4938 71.1215 44.8211C68.3904 47.9318 63.37 46.9171 59.4883 45.4684C55.6065 44.0197 50.8931 42.4939 47.6358 45.049C45.2478 46.923 44.689 50.3283 44.8582 53.3624C45.0274 56.3965 45.7101 59.4735 45.0862 62.4454C44.4622 65.4172 41.8968 68.3267 38.8735 67.9476C35.3959 67.5152 33.8044 63.3271 33.7054 59.8234C33.616 56.3233 34.194 52.495 32.2446 49.582C29.8341 45.9729 24.6681 45.5092 20.4057 46.3423C16.1433 47.1754 11.9144 48.9264 7.60437 48.3615C3.29661 47.8195 -0.954836 43.5135 0.663355 39.4781C2.10035 35.9139 6.75638 35.1771 10.6009 35.1435C14.4454 35.11 19.0201 34.8716 21.0254 31.5811C23.1712 28.0688 20.8738 23.6203 18.6927 20.1325C16.5153 16.6352 14.4391 11.9847 16.9113 8.68618C19.5262 5.18869 25.5285 6.49269 28.0891 10.0271C29.9126 12.5495 30.3786 15.7308 30.8778 18.6821C35.072 16.9067 37.9555 9.208 40.3402 5.24671Z"
              fill="#00C999"
            />
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width={122}
            height={78}
            viewBox="0 0 122 78"
            fill="none"
            className="max-sm:hidden md:w-fit w-14 absolute top-[25%] md:top-[120px] right-0 xl:right-[110px] -z-5 isolate"
          >
            <path
              d="M94.3405 37.0564C92.1656 39.0636 91.9271 42.6007 93.1777 45.2877C94.4282 47.9748 96.8641 49.9365 99.4324 51.4013C102.373 53.086 105.695 54.2942 109.085 54.2089C115.392 54.0596 123.241 46.6325 116.754 41.2571C112.35 37.5996 99.3269 32.4637 94.3405 37.0564Z"
              fill="#00C999"
            />
            <path
              d="M92.2616 7.98046C89.8178 9.79558 87.8151 12.7007 88.297 15.7112C88.7023 18.2607 90.8852 20.2936 93.3488 21.0399C95.8124 21.7863 98.5143 21.4158 100.939 20.5413C106.062 18.6972 111.025 12.5819 106.989 7.20672C103.693 2.78458 95.8765 5.31112 92.2616 7.98046Z"
              fill="#00C999"
            />
            <path
              d="M71.1512 29.2159C69.6923 31.5703 68.6603 34.3298 69.0472 37.0682C69.6087 41.0041 73.3681 44.1762 77.3462 44.2262C85.9196 44.3279 87.3595 35.2927 85.4011 28.8422C83.0792 21.1759 74.6957 23.4823 71.1512 29.2159Z"
              fill="#00C999"
            />
            <path
              d="M59.8728 5.72132C58.7461 8.01323 58.569 10.8005 59.6111 13.1324C63.0789 20.9033 73.3394 16.7266 72.6274 8.99658C72.0484 2.79878 62.9783 -0.607192 59.8728 5.72132Z"
              fill="#00C999"
            />
            <path
              d="M46.1313 27.6863C42.2698 28.7402 39.0492 31.8746 37.8904 35.6996C36.7451 39.4882 37.8876 44.1642 41.3005 46.1577C43.9574 47.717 47.4667 47.3362 50.1047 45.7474C52.7428 44.1586 54.6143 41.5242 55.8926 38.7116C57.237 35.7484 58.9769 31.9118 56.3205 29.4052C53.9423 27.1764 49.0677 26.8773 46.1313 27.6863Z"
              fill="#00C999"
            />
            <path
              d="M71.7437 57.2191C69.1815 56.6835 66.3892 56.8249 64.139 58.1452C61.8888 59.4654 60.334 62.1346 60.8118 64.7109C61.4364 68.0316 64.9382 69.924 68.1426 71.0062C70.6099 71.826 73.1815 72.4475 75.7667 72.281C78.3519 72.1145 80.9777 71.0876 82.6144 69.0873C88.3889 62.0878 76.8442 58.2713 71.7437 57.2191Z"
              fill="#00C999"
            />
            <path
              d="M19.0532 15.8609C17.2168 13.1426 14.1447 11.0074 10.8609 11.2245C9.22524 11.3302 7.63157 12.0179 6.39227 13.0838C3.87543 15.2632 2.88779 18.9042 3.45227 22.1924C4.01674 25.4805 5.95012 28.4098 8.39409 30.6835C10.375 32.5386 12.7953 34.0414 15.48 34.3855C27.1495 35.8897 22.7078 21.2909 19.0532 15.8609Z"
              fill="#00C999"
            />
            <path
              d="M20.2988 47.0805C17.9874 49.7067 18.3944 54.2548 21.1285 56.4401C23.8627 58.6254 28.3886 58.0026 30.438 55.1662C35.2395 48.5689 25.6454 41.0144 20.2988 47.0805Z"
              fill="#00C999"
            />
          </svg>
        </div>
      </div>
    </section>
  );
};

export default FooterCtaSection;
